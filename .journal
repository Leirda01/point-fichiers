#!/usr/bin/bash

# Define current journal
if [[ $1 ]]; then
  journal="$HOME/saveuriendir/${1%%.*}.md"
else
  journal="$HOME/saveuriendir/$(date +%Y/%m/%d.md)"
fi

# The script grant write access to user that owns it.
if [[ -O $journal ]]; then
  chmod u+w $journal
fi

vim "$journal"

# By default, journal is read-only
if [[ $journal ]]; then
  chmod u-w $journal
fi
